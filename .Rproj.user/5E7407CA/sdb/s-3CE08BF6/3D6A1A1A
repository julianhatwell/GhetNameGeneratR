{
    "contents" : "getMasterPhonemes <- function() GhetNameEnv$MasterPhonemes\n\ncommitPhons <- function(phonDF) {\n  GhetNameEnv$MasterPhonemes <<- phonDF[order(phonDF$phoneme),]\n}\n\ngenderAssignment <- function(gender) {\n  m <- if(gender %in% c(\"m\", \"u\")) TRUE else FALSE\n  f <- if(gender %in% c(\"f\", \"u\")) TRUE else FALSE\n  return(c(m = m,f = f))\n}\n\nmakePhoneme <- function(phon, fst, mid, gen) {\n  # common validation\n  mPhons <- getMasterPhonemes()\n  checkFirstAndMid(fst, mid)\n  checkGenderAssignment(gen)\n  checkExistsPhoneme(phon, mPhons$phoneme)\n  \n  #process steps\n  gender <- genderAssignment(gen)\n  newPhons <- rbind(mPhons, c(tolower(phon), fst, mid, gender[\"m\"], gender[\"f\"]))\n  commitPhons(newPhons)\n  print(paste(\"Added phoneme \", phon, \" to Master Phonemes File\"))\n}\n\nupdatePhoneme <- function(phon, fst, mid, gen) {\n  # common validation\n  mPhons <- getMasterPhonemes()\n  checkFirstAndMid(fst, mid)\n  checkGenderAssignment(gen)\n  \n  #process steps\n  gender <- genderAssignment(gen)\n  phon <- tolower(phon)\n  newPhons <- rbind(mPhons[mPhons$phoneme != phon,], c(phon, fst, mid, gender[\"m\"], gender[\"f\"]))\n  commitPhons(newPhons)\n  print(paste(\"Updated phoneme \", phon, \" to Master Phonemes File\"))\n}\n\ndeletePhoneme <- function(phon) {\n  # common validation\n  mPhons <- getMasterPhonemes()\n  \n  newPhons <- mPhons[mPhons$phoneme != tolower(phon),]\n  commitPhons(newPhons)\n  print(paste(\"Removed phoneme \", phon, \" from Master Phonemes File\"))\n}\n\ndeletePhonemes <- function(phons) sapply(phons, deletePhoneme)\n\naddPhonemes <- function(phonDF) {\n  if (!(is.data.frame(phonDF)) |\n      (!(ncol(phonDF == 5)))) {\n    stop(\"You must provide a 5 column data frame\")\n  }\n  mPhons <- getMasterPhonemes()\n  checkFirstAndMid(phonDF[[2]], phonDF[[3]])\n  sapply(as.character(phonDF$phoneme), checkExistsPhoneme, mPhons$phoneme)\n  \n  newPhons <- rbind(mPhons, phonDF)\n  commitPhons(newPhons)\n  print(\"Added multiple phonemes to Master Phonemes File\")\n}\n",
    "created" : 1449481147516.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "335604975",
    "id" : "3D6A1A1A",
    "lastKnownWriteTime" : 1449483246,
    "path" : "D:/github/GhetNameGeneratR/commonActions.R",
    "project_path" : "commonActions.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}